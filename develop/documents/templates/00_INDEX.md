# AI対話システム (Project Name: Aurora-Dialogue)

## 1. プロジェクトの目的
ユーザーからの自然言語入力を理解し、適切な文脈（コンテキスト）を維持しながら、人間らしく自然な応答を生成する汎用的な対話エージェントを構築します。

## 2. システム構成 (Architecture)
本システムは、パイプライン方式の対話アーキテクチャを採用しています。

### A. NLU (Natural Language Understanding: 自然言語理解)
- **役割**: ユーザーの発話から「意図（Intent）」と「エンティティ（Entity）」を抽出します。
- **入力**: ユーザーの生テキスト
- **出力**: 解析済み構造化データ（JSON）

### B. DM (Dialogue Management: 対話管理)
対話の進捗と履歴を管理し、次にシステムが取るべき行動を決定します。
- **DST (Dialogue State Tracking)**: 過去のやり取りを含めた「対話状態」を更新・保持します。
- **DP (Dialogue Policy)**: 現在の状態に基づき、最適な「対話戦略（応答の種類）」を選択します。

### C. NLG (Natural Language Generation: 自然言語生成)
- **役割**: DPが決定した抽象的な応答指示を、自然な日本語の文章に変換します。
- **出力**: ユーザーへの最終的な応答テキスト

## 3. 技術スタック (Tech Stack)
*※使用する技術に合わせて書き換えてください*
- **Language**: Python 3.11+ / TypeScript
- **Framework**: FastAPI (Backend) / LangChain (LLM Orchestration)
- **LLM**: OpenAI GPT-4o / Claude 3.5 Sonnet
- **Database**: Redis (Session Management / State Storage)

## 4. ディレクトリ構造
AIがファイルを配置する場所を以下の構造に固定します。

```text
/
├── docs/               # 設計詳細・プロンプト定義
├── src/
│   ├── nlu/            # 自然言語理解モジュール
│   ├── dm/             # 対話管理（DST, DP）モジュール
│   ├── nlg/            # 自然言語生成モジュール
│   ├── utils/          # 共通ユーティリティ
│   └── main.py         # エントリポイント
├── tests/              # 各モジュールのテスト
└── .cursorrules        # AIへの制約指示（AI駆動開発用）

```

## 5. コーディング指針

* **型定義**: 全ての関数に型ヒント（Type Hints）を必須とします。
* **非同期処理**: I/O待機が発生する処理は `async/await` を使用してください。
* **ドキュメント**: 関数には必ずDocstringを記述し、その役割を明記してください。

```

---

## 初心者の方への補足説明：なぜこの項目が必要なのか？

AIにコーディングをさせる際、以下の理由でこれらの項目が重要になります。

1.  **構成（NLU/DM/NLG）の明記**:
    AIは放っておくと、1つの大きなファイル（巨大なコード）にすべてを書き込もうとすることがあります。このように「役割（モジュール）」を分けて記述しておくことで、AIに対して**「プログラムを部品ごとに分けて作ってね」**という指示が明確に伝わります。

2.  **DSTやDPの定義**:
    「DMを作って」と言うだけよりも、「DST（状態保持）とDP（行動決定）に分けて」と書くことで、AIはより専門的な、メンテナンス性の高いロジックを提案してくれるようになります。

3.  **ディレクトリ構造の図解**:
    これがあることで、AIが勝手に `src/ai_logic.py` のような曖昧な名前のファイルを作るのを防ぎ、プロジェクトが整理された状態を保てます。

